% !TeX root = ncku_thesis.tex
% this file is encoded in utf-8
% v2.02 (Sep. 12, 2012)

\documentclass[12pt, a4paper]{ncku_report}

% To have correct unicode mapping for special LaTeX characters (italic, ligature, ...) to unicode 
% in the generated PDF file, so that we can do copy-and-paste.
% This only works for pdflatex work flow; for latex + dvipdfmx work flow, this does not do anything
\usepackage{cmap}
%\usepackage[T1]{fontenc}


% 除非校方修改了論文格式 (margins, header, footer, 浮水印, 中文數字之章別)
% 或者需要增加所用的 LaTeX 套件，
% 或者要改預設中文字型、編碼
% 否則毋須修改本檔內容
% 論文撰寫，請修改以 my_  開頭檔名的各檔案
\usepackage{CJKutf8}  %%% ZZZ %%% macro for Chinese/Japanese/Korean processing
\usepackage{CJKnumb} %%% ZZZ %%% for Chinese numbering capability
\usepackage{CJKspace} %%% ZZZ %%% suppress the spaces due to hard-coded CRs in the text, but not the spaces between CJK chars and alphabets
%\usepackage[nospace]{cite}  % for smart citation
\usepackage{geometry}  % for easy margin settings
%
% margins setting
\geometry{verbose,a4paper,tmargin=3.5cm,bmargin=2cm,lmargin=2cm,rmargin=2cm}
%

% use colored text, background, foreground
% http://en.wikibooks.org/wiki/LaTeX/Colors
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}

% 插圖套件 graphicx
% 使用者工作流程是用 pdftex 還是 latex + dvipdfmx?
% 視情況而有不同的參數
% 這裡作自動判斷
% 參考自
% http://www.tex.ac.uk/cgi-bin/texfaq2html?label=ifpdf
\newcommand\mydvipdfmxflow{dvipdfmx}
\newcommand\mypdftexflow{pdftex}
\ifx\pdfoutput\undefined
  % not running pdftex
  \usepackage[dvipdfmx]{graphicx}
  \newcommand\myworkflow{dvipdfmx}  % set the flag for hyperref
\else
  \ifx\pdfoutput\relax
    % not running pdftex
    \usepackage[dvipdfmx]{graphicx}
    \newcommand\myworkflow{dvipdfmx}  % set the flag
  \else
    % running pdftex, with...
    \ifnum\pdfoutput>0
      % ... PDF output
      \usepackage[pdftex]{graphicx}
      \newcommand\myworkflow{pdftex}  % set the flag
    \else
      %...DVI output
      \usepackage[dvipdfmx]{graphicx}
      \newcommand\myworkflow{dvipdfmx}  % set the flag
    \fi
  \fi
\fi

% 增強功能型頁楣 / 頁腳套件
\usepackage{fancyhdr}  % 借用此套件來擺放浮水印 
% (佔用了 central header)
% 不需要浮水印的使用者仍可利用此套件，產生所需的 header, footer
%
% 啟動 fancy header/footer 套件
\pagestyle{fancy}
\fancyhead{}  % reset left, central, right header to empty
\fancyfoot[C]{\thepage} %中間 footer 擺放頁碼
\renewcommand{\headrulewidth}{0pt} % header 的直線; 0pt 則無線

% 如果不需要任何浮水印，則請把下列介於 >>> 與 <<< 之間
% 的文字行關掉 (行首加上百分號)
%% 浮水印 >>> 
\input{ncku_watermark.tex}
%% <<< 浮水印

% 如需額外的頁楣 (header) 或 footer，請在 my_headerfooter.tex 裡依例修改
% 它的預設內容是都關掉，可依需要打開
\input{my_headerfooter.tex}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% 非必要的套件，但很實用
\usepackage{amsmath} % 各式 AMS 數學功能
\usepackage{amssymb} % 各式 AMS 數學符號
\usepackage{mathrsfs} %草寫體數學符號，在數學模式裡用 \mathscr{E} 得草寫 E
\usepackage{listings} % 程式列表套件
\usepackage{booktabs} % For better table formatting
\usepackage{graphicx} % Required for including images
\usepackage{array, float}    % For better columns
\usepackage{multirow} % Add this to use the multirow functionality
\usepackage{tikz}
\usepackage{caption}
\usepackage{subcaption}

%
% listing setting
\lstset{breaklines=true,% 過長的程式行可斷行
extendedchars=false,% 中文處理不需要 extendedchars
texcl=true,% 中文註解需要有 TeX 處理過的 comment line, 所以設成 true
comment=[l]\%\%,% 以雙「百分號」做為程式中文註解的起頭標記，配合 MATLAB
basicstyle=\small,% 小號字體, 約 10 pt 大小
commentstyle=\upshape,% 預設是斜體字，會影響註解裏的英文，改用正體
escapeinside={<>},%要在列表裡顯示中文字串，要把該中文字串用 <> 包夾住
%language=Octave % 會將一些 octave 指令以粗體顯示
}

\usepackage{url} % 在文稿中引用網址，可以用 \url{http://www.ncku.edu.tw} 方式

\usepackage{CJKfntef}  %%% ZZZ %%% CJK underline: \CJKunderline{}
\normalem %%% ZZZ %%% use \normalem to avoid \emph becomes underline, due to CJKfntef

% the following packages are needed for table code generated by excel2latex macro in excel
\usepackage{multirow} % for sophisticated table with columns spanning multiple rows; \multirow{num_rows}{width}{contents}
\usepackage{bigstrut} % to have larger cell area
\usepackage{booktabs} % to have a more professional look of tables

% use colored text, background, foreground
% http://en.wikibooks.org/wiki/LaTeX/Colors
%\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}

%didi add
\usepackage[vlined, ruled, linesnumbered]{algorithm2e}
\usepackage[noend]{algpseudocode}
\usepackage{amsmath}
\let\proof\rela
\let\endproof\relax
\usepackage{amsthm}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{definition}{Definition}
\renewcommand{\algorithmicrequire}{\textbf{Input:}}  % Use Input in the format of Algorithm
\renewcommand{\algorithmicensure}{\textbf{Output:}} % Use Output in the format of Algorithm
\usepackage{diagbox}
\usepackage{amssymb}
\usepackage{multirow}
\usepackage{amsfonts}
\usepackage{thmtools}
\newcommand{\tabincell}[2]{\begin{tabular}{@{}#1@{}}#2\end{tabular}}  
\usepackage{graphicx}
\usepackage{url}
%didi add

% Add biblatex for bibliography management
\usepackage[
  backend=bibtex,
  style=numeric,
  sorting=none
]{biblatex}
\addbibresource{texFolder/reference.bib}

%%%% 以上為非必要套件
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% 以下是 hyperref 套件
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% hyperref 會擾亂 cite.sty 對文獻號碼縮編的排版，所以依據
% http://www.ctan.org/tex-archive/macros/latex/contrib/hyperref/
% 作如下的更動，使得 hyperref 不做文獻號碼的超連結。
% \makeatletter
% \def\NAT@parse{\typeout{This is a fake Natbib command to fool Hyperref.}}
% \makeatother

% hyperlinkable table of contents
% 章節目錄、圖表超連結
\ifx\myworkflow\mydvipdfmxflow
        \usepackage[dvipdfmx, debug, colorlinks, linkcolor=black, citecolor=black, urlcolor=black, unicode]{hyperref}
\else
        \usepackage[pdftex, debug, colorlinks, linkcolor=black, citecolor=black, urlcolor=black, unicode]{hyperref}      
\fi

% if hyperref is not used (e.g., in LyX application)
% define dummy \phantomsection for those occurences
%   in ncku_frontpages.tex, ncku_backpages.tex, my_appendix.tex
\ifx\hypersetup\undefined
        \newcommand\phantomsection{}
\fi
%%%% 以上為所有套件
%%%% 
%%%% 


% global page layout
\newcommand{\mybaselinestretch}{1.5}  %行距 1.5 倍 + 20%, (約為 double space)
\renewcommand{\baselinestretch}{\mybaselinestretch}  % 論文行距預設值
\parskip=2ex  % 段落之間的間隔為兩個 x 的高度
\parindent = 0Pt  % 段首內縮由 CJK 控制，所以這裡就設成不內縮

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  end of preamble
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
\usepackage{siunitx}
\begin{document}

\begin{CJK*}{UTF8}{bkai}   %%% ZZZ %%%  <<< 在這裡更改預設中文字型、編碼
% CJK* 與 CJKspace 套件配合，會把原稿裏手動鍵入的換行鍵所引起的空白 (中文字與中文字之間) 拿掉
% 編碼：UTF8, Bg5, ...
% 中文字型名稱：TeXLive 安裝有一套明體字 bsmi 與 楷書 bkai; 其他字型視你的 LaTeX CJK 系統裝設情況而定

% 針對 latex + dvipdfmx 工作流程在 hyperref 套件的影響下，圖檔的辨識力退化
% 所作的權宜措施。可能是因為 TeXLive2007 hyperref 裏的
% 客製 graphicx / dvipdfmx 的設定檔不夠新
\ifx\myworkflow\mydvipdfmxflow
        \DeclareGraphicsExtensions{.pdf,.png,.jpg,.eps}
        \DeclareGraphicsRule{.pdf}{eps}{.xbb}{}
        \DeclareGraphicsRule{.png}{eps}{.xbb}{}
        \DeclareGraphicsRule{.jpg}{eps}{.xbb}{}
\fi

% global CJK setting
\CJKindent  %%% ZZZ %%%  段首內縮兩格

% 載入中文名詞的定義：例如，Figure -->「圖」, Chapter -->「第 x 章」
\input{ncku_definitions.tex}

% 是否以中文數字一、二、三呈現章別，例如「第一章」，則會以「第 1 章」呈現
% \input{ncku_chnum.tex}

%%% 以下是載入前頁、本文、後頁
% 請勿更動
% 如需針對個別章節獨立編譯
% 請在 my_chapters.tex 檔裡對個別章節的 \input 指令以行首百分號方式做開關。
\input{my_chapters.tex}


\clearpage % to make sure all CJK characters are processed
\end{CJK*}  %%% ZZZ %%%
\printbibliography
\end{document} 
 
